---
import Button from './Button.astro';

import * as AstroFeather from 'astro-feather';
import { Image } from 'astro:assets';

interface Props {
    title: string;
    href: string;
    featured_media?: string;
    meta: string[];
    date: string;
}

const { title, href, featured_media, meta, date } = Astro.props;


---

<article class="relative flex flex-col bg-white dark:bg-neutral-800 text-stone-950 dark:text-white rounded-3xl overflow-clip">
    <figure class="aspect-3/2 size-full overflow-clip bg-neutral-600 flex items-center justify-center">
        { featured_media && <Image width="600" height="400" src={ featured_media } alt={ title } class="aspect-3/2 size-full object-cover object-center" /> }
        { !featured_media && <AstroFeather.ImageIcon customClasses="w-4 h-4 aspect-1 text-neutral-700" /> }
    </figure>
    <ul class="p-6 gap-2 absolute top-0 left-0 empty:hidden">
    {meta.map((item) => (
        <li class="text-xs bg-yellow-400 text-stone-950 rounded-full px-2 py-1">{item}</li>
    ))}
    </ul>

    <div class="flex flex-col p-6 gap-8 h-full">
        <header>
            <hgroup>
                <p class="text-sm font-bold text-yellow-300">{ date }</p>
                <h2 class="text-2xl font-barlow uppercase leading-none font-bold">{title}</h2>
            </hgroup>
        </header>
        <footer class="mt-auto">
            <Button label="Event ansehen" href={ href } type="primary" icon/>
        </footer>
    </div>

</article>